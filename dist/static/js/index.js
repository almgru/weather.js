!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";function n(e,t){return e.getFullYear()===t.getFullYear()&&(e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function r(e){let t=new Date,a=new Date;a.setDate(t.getDate()+1);let n=l(e,t,6,12,18),r=l(e,a,6,12,18),o=[];for(let e=0;e<n.length;e++)o.push(d(n[e]));let i=[];for(let e=0;e<r.length;e++)i.push(d(r[e]));let c=new Map;return c.set(t,o),c.set(a,i),c}function l(e,t,...a){let r=[],l=e.timeSeries;for(let e=0;e<l.length;e++){let a=l[e],d=new Date(Date.parse(a.validTime));Array.from(arguments).splice(2,arguments.length).some(e=>e===d.getHours())&&n(t,d)&&r.push(a)}return r}function d(e){let t={},a=e.parameters;return t.time=new Date(Date.parse(e.validTime)),t.temperature=o(a,"t"),t.windDirection=o(a,"wd"),t.windSpeed=o(a,"ws"),t.cloudiness=o(a,"tcc_mean"),t.rain=o(a,"pmean"),t}function o(e,t){return e.find(e=>e.name===t).values[0]}function i(e){let t=document.querySelector("#weather_widget");for(let a of e.keys()){let n=e.get(a);if(n.length>0){let e=c(a,n,3);t.appendChild(e)}}}function c(e,t,a){let r=document.createElement("table");r.classList.add("weather_app_table"),r.appendChild(function(e,t){let a,r=new Date,l=new Date;l.setDate(r.getDate()+1),n(r,e)?a=u(["Idag"],t):n(l,e)&&(a=u(["Imorgon"],t));return a.classList.add("weather_app_day_header"),a}(e,5)),r.appendChild(u(["Tid","Temp","Vind","Regn","Himmel"]));for(let e of t)r.appendChild(p(e));return r}function p(e){let t=document.createElement("tr");t.classList.add("weather_app_table_data_row","weather_app_table_row");let a=document.createElement("td");a.classList.add("weather_app_table_data","weather_app_short_col"),a.appendChild(document.createTextNode(e.time.getHours())),t.appendChild(a);let n=document.createElement("td");n.classList.add("weather_app_table_data","weather_app_short_col"),n.appendChild(document.createTextNode(e.temperature+" Â°C")),t.appendChild(n);let r=document.createElement("td");r.classList.add("weather_app_table_data","weather_app_medium_col"),r.appendChild(function(e){let t=document.createElement("span");return t.classList.add("weather_app_wind_arrow"),t.style.transform="rotate("+(45+e)+"deg)",t}(e.windDirection)),r.appendChild(document.createTextNode(e.windSpeed+" m/s")),t.appendChild(r);let l=document.createElement("td");l.classList.add("weather_app_table_data","weather_app_short_col"),l.appendChild(document.createTextNode(e.rain+" mm")),t.appendChild(l);let d=document.createElement("td");return d.classList.add("weather_app_table_data","weather_app_long_col"),d.appendChild(document.createTextNode(function(e){switch(e){case 0:return"Klart";case 1:case 2:return"Mestadels klart";case 3:case 4:case 5:return"Halvklart";case 6:case 7:return"Mestadels mulet";case 8:return"Mulet"}}(e.cloudiness))),t.appendChild(d),t}function u(e,t=1){let a=document.createElement("tr");a.classList.add("weather_app_table_header_row","weather_app_table_row");for(let n of e){let e=document.createElement("th");e.classList.add("weather_app_table_header","weather_app_table_data"),e.setAttribute("colspan",t),e.appendChild(document.createTextNode(n)),a.appendChild(e)}return a}a.r(t),window.addEventListener("load",e=>{let t=function(){let e={},t=document.querySelector("#weather_widget");return e.latitude=t.getAttribute("lat"),e.longitude=t.getAttribute("lon"),e}();var a,n;(a=t.latitude,n=t.longitude,new Promise((function(e,t){fetch(function(e,t){let a="https://opendata-download-metfcst.smhi.se/api/";return a+="category/pmp3g/",a+="version/2/",a+="geotype/point/",a+="lon/"+t+"/",a+="lat/"+e+"/",a+="data.json",a}(a,n)).then(e=>e.json()).then(e)}))).then(r).then(i)})}]);